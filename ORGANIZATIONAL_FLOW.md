# Organizational Hierarchy & User Flow Documentation

## ğŸ“Š Organizational Hierarchy Tree

```
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚   CEO (CEO001)  â”‚
                                    â”‚  Full Access    â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                       â”‚                       â”‚
                    â–¼                       â–¼                       â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   ADMIN (ADMIN001)â”‚   â”‚ AUTO (AUTO001)    â”‚   â”‚   Departments     â”‚
        â”‚  Admin Operations â”‚   â”‚  Automation       â”‚   â”‚   (5 Total)       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                             â”‚             â”‚
                    â–¼                                             â–¼             â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      ...
        â”‚  Tech Department  â”‚                      â”‚ Finance Departmentâ”‚
        â”‚   HOD001          â”‚                      â”‚   HOD002          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         â”‚         â”‚                    â”‚          â”‚          â”‚
        â–¼         â–¼         â–¼                    â–¼          â–¼          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”
    â”‚Platformâ”‚ â”‚ Infra â”‚ â”‚Backendâ”‚          â”‚Accountsâ”‚  â”‚Payrollâ”‚  â”‚  ...  â”‚
    â”‚  Pod   â”‚ â”‚  Pod  â”‚ â”‚  Pod  â”‚          â”‚  Pod   â”‚  â”‚  Pod  â”‚  â”‚       â”‚
    â”‚ PL006  â”‚ â”‚ PL007 â”‚ â”‚ PL009 â”‚          â”‚ PL004  â”‚  â”‚ PL014 â”‚  â”‚       â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜          â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”˜
        â”‚          â”‚         â”‚                   â”‚          â”‚          â”‚
        â–¼          â–¼         â–¼                   â–¼          â–¼          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”
    â”‚Employeeâ”‚  â”‚Employeeâ”‚ â”‚Employeeâ”‚          â”‚Employeeâ”‚  â”‚Employeeâ”‚  â”‚Employeeâ”‚
    â”‚  EMP   â”‚  â”‚  EMP   â”‚ â”‚  EMP   â”‚          â”‚  EMP   â”‚  â”‚  EMP   â”‚  â”‚  EMP   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¢ Complete Organizational Structure

### Level 1: CEO
```
CEO001
â”œâ”€â”€ Access: All dashboards (Org, Department, Pod, Employee)
â”œâ”€â”€ Permissions: Full system access
â””â”€â”€ Actions: Generate final master lists, view all metrics
```

### Level 2: Departments (5 Total)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Department Structure                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Tech (ID: 1) - HOD001                                          â”‚
â”‚  â”œâ”€â”€ Platform Pod (PL006)                                       â”‚
â”‚  â”œâ”€â”€ Infra Pod (PL007)                                          â”‚
â”‚  â”œâ”€â”€ Mobile Pod (PL008)                                         â”‚
â”‚  â””â”€â”€ Backend Pod (PL009)                                        â”‚
â”‚                                                                  â”‚
â”‚  Finance (ID: 2) - HOD002                                       â”‚
â”‚  â”œâ”€â”€ Accounts Pod (PL004, PL005)                                â”‚
â”‚  â””â”€â”€ Payroll Pod (PL014)                                        â”‚
â”‚                                                                  â”‚
â”‚  Sales (ID: 3) - HOD003                                         â”‚
â”‚  â”œâ”€â”€ Field Sales Pod (PL012)                                    â”‚
â”‚  â””â”€â”€ Inside Sales Pod (PL013)                                   â”‚
â”‚                                                                  â”‚
â”‚  Marketing (ID: 4) - HOD004                                     â”‚
â”‚  â”œâ”€â”€ Growth Pod (PL010)                                         â”‚
â”‚  â””â”€â”€ Content Pod (PL011)                                        â”‚
â”‚                                                                  â”‚
â”‚  Business (ID: 5) - HOD005                                      â”‚
â”‚  â”œâ”€â”€ Strategy Pod (PL003)                                       â”‚
â”‚  â””â”€â”€ Partnerships Pod (PL001, PL002)                            â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Level 3: Pod Leads (14 Total)
```
Pod Leads manage their respective pods:
â”œâ”€â”€ PL001, PL002 â†’ Partnerships Pod (Business)
â”œâ”€â”€ PL003 â†’ Strategy Pod (Business)
â”œâ”€â”€ PL004, PL005 â†’ Accounts Pod (Finance)
â”œâ”€â”€ PL006 â†’ Platform Pod (Tech)
â”œâ”€â”€ PL007 â†’ Infra Pod (Tech)
â”œâ”€â”€ PL008 â†’ Mobile Pod (Tech)
â”œâ”€â”€ PL009 â†’ Backend Pod (Tech)
â”œâ”€â”€ PL010 â†’ Growth Pod (Marketing)
â”œâ”€â”€ PL011 â†’ Content Pod (Marketing)
â”œâ”€â”€ PL012 â†’ Field Sales Pod (Sales)
â”œâ”€â”€ PL013 â†’ Inside Sales Pod (Sales)
â””â”€â”€ PL014 â†’ Payroll Pod (Finance)
```

### Level 4: Employees
```
Employees belong to pods and report to Pod Leads
â””â”€â”€ EMP001 â†’ Example Employee (Tech Department)
```

### Special Roles
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Special Roles                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ADMIN001 (Admin)                                                â”‚
â”‚  â”œâ”€â”€ Access: All administrative operations                      â”‚
â”‚  â”œâ”€â”€ Can: Import data, upload files, process allocations        â”‚
â”‚  â””â”€â”€ Can: Access all dashboards                                 â”‚
â”‚                                                                  â”‚
â”‚  AUTO001 (Automation)                                            â”‚
â”‚  â”œâ”€â”€ Access: Upload initial XLSX files                          â”‚
â”‚  â”œâ”€â”€ Can: Generate Pod Lead allocation sheets                   â”‚
â”‚  â””â”€â”€ Purpose: System automation workflows                       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Access Control Hierarchy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ACCESS CONTROL FLOW                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Level 1: CEO (CEO001)
â”‚
â”œâ”€â–º Can Access: Everything
â”‚   â”œâ”€â”€ Org Dashboard (all departments)
â”‚   â”œâ”€â”€ Department Dashboards (all 5 departments)
â”‚   â”œâ”€â”€ Pod Dashboards (all pods)
â”‚   â”œâ”€â”€ Employee Dashboards (all employees)
â”‚   â””â”€â”€ Generate Final Master Lists
â”‚
Level 2: HOD (HOD001-HOD005)
â”‚
â”œâ”€â–º Can Access: Own Department Only
â”‚   â”œâ”€â”€ Department Dashboard (own department)
â”‚   â”œâ”€â”€ Pod Dashboards (pods in own department)
â”‚   â””â”€â”€ Employee Dashboards (employees in own department)
â”‚
Level 3: Pod Lead (PL001-PL014)
â”‚
â”œâ”€â–º Can Access: Own Pod Only
â”‚   â”œâ”€â”€ Pod Dashboard (own pod)
â”‚   â”œâ”€â”€ Employee Dashboards (members of own pod)
â”‚   â””â”€â”€ Submit Allocations (for pod members)
â”‚
Level 4: Employee (EMP001+)
â”‚
â””â”€â–º Can Access: Own Data Only
    â””â”€â”€ Own Contributions Dashboard

Special Roles:
â”‚
â”œâ”€â–º Admin (ADMIN001)
â”‚   â””â”€â”€ Can Access: Everything (same as CEO)
â”‚
â””â”€â–º Automation (AUTO001)
    â””â”€â”€ Can Access: Upload & Sheet Generation Only
```

---

## ğŸ”„ User Workflow Flows

### Flow 1: Authentication Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AUTHENTICATION FLOW                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    User
     â”‚
     â”‚ POST /api/token/
     â”‚ { "employee_code": "XXX001" }
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Validate Code  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â–º Valid? â”€â”€NOâ”€â”€â–º Error: "Employee not found"
         â”‚
         â””â”€â–º YES
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Generate JWT Tokens  â”‚
    â”‚  - access token      â”‚
    â”‚  - refresh token     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Return Token + User  â”‚
    â”‚      Claims          â”‚
    â”‚  - employee_id       â”‚
    â”‚  - employee_code     â”‚
    â”‚  - role              â”‚
    â”‚  - department_id     â”‚
    â”‚  - pod_id            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flow 2: Dashboard Access Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DASHBOARD ACCESS FLOW                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    User Requests Dashboard
     â”‚
     â”‚ GET /api/dashboards/{level}/?month=YYYY-MM
     â”‚ Authorization: Bearer <token>
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Extract User Role   â”‚
â”‚  from JWT Token      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â–º CEO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                     â”‚
           â”œâ”€â–º HOD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚                     â”‚
           â”œâ”€â–º POD_LEAD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚                     â”‚
           â”œâ”€â–º EMPLOYEE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚                     â”‚
           â”œâ”€â–º ADMIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚                     â”‚
           â””â”€â–º AUTOMATION â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                 â”‚
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Check Permissions     â”‚
                    â”‚  Based on Role         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚              â”‚              â”‚
                â–¼              â–¼              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Allowed   â”‚ â”‚  Filtered   â”‚ â”‚   Denied    â”‚
        â”‚   Access    â”‚ â”‚   Access    â”‚ â”‚   Access    â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
               â”‚               â”‚               â”‚
               â”‚               â”‚               â””â”€â–º 403 Forbidden
               â”‚               â”‚
               â–¼               â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Return Dashboard Data          â”‚
        â”‚  (Filtered by permissions)      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flow 3: Pod Lead Allocation Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              POD LEAD ALLOCATION WORKFLOW                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: Initial Upload (Automation User)
    â”‚
    AUTO001
     â”‚
     â”‚ POST /api/automation/upload-initial-xlsx/
     â”‚ - file: XLSX
     â”‚ - month: YYYY-MM
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Parse XLSX File        â”‚
â”‚  Extract Contributions  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Group by Department    â”‚
â”‚  Group by Pod           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  For Each Pod:          â”‚
â”‚  - Check if Pod Lead    â”‚
â”‚    exists               â”‚
â”‚  - Generate Sheet       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â–º Has Pod Lead? â”€â”€NOâ”€â”€â–º Skip Pod
           â”‚
           â””â”€â–º YES
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Generate Excel Sheet â”‚
    â”‚ for Pod Lead         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Store Sheet in       â”‚
    â”‚ media/pod_lead_sheetsâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Return Sheet URLs    â”‚
    â”‚ (Grouped by Dept)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 2: Pod Lead Reviews & Submits
    â”‚
    PL001 (Pod Lead)
     â”‚
     â”‚ GET /api/pod-leads/{pod_id}/allocation-sheet/?month=YYYY-MM
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Download Allocation     â”‚
â”‚  Sheet                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Review Pod Members'    â”‚
â”‚  Contributions          â”‚
â”‚  Fill Percentages       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ POST /api/pod-leads/ â”‚
    â”‚ {pod_id}/allocations/â”‚
    â”‚ submit/              â”‚
    â”‚                      â”‚
    â”‚ {                    â”‚
    â”‚   "month": "2025-10",â”‚
    â”‚   "allocations": [...]â”‚
    â”‚ }                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Validate Percentages â”‚
    â”‚ (Sum = 100%)         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Save Allocations     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 3: Generate Final Master List (CEO/Admin)
    â”‚
    CEO001 / ADMIN001
     â”‚
     â”‚ POST /api/admin/final-master-list/generate/?month=YYYY-MM
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Collect All Pod Lead   â”‚
â”‚  Allocations            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Merge with Initial     â”‚
â”‚  Contributions          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Calculate Final        â”‚
â”‚  Percentages            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Generate Master List   â”‚
â”‚  Excel File             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ Role-Based Access Matrix

| Role | Org Dashboard | Dept Dashboard | Pod Dashboard | Employee Dashboard | Upload Files | Submit Allocations | Generate Master List |
|------|---------------|----------------|---------------|-------------------|--------------|-------------------|---------------------|
| **CEO** | âœ… All | âœ… All Depts | âœ… All Pods | âœ… All Employees | âœ… | âŒ | âœ… |
| **HOD** | âŒ | âœ… Own Dept | âœ… Own Dept Pods | âœ… Own Dept Employees | âŒ | âŒ | âŒ |
| **Pod Lead** | âŒ | âŒ | âœ… Own Pod | âœ… Own Pod Members | âŒ | âœ… Own Pod | âŒ |
| **Employee** | âŒ | âŒ | âŒ | âœ… Own Only | âŒ | âŒ | âŒ |
| **Admin** | âœ… All | âœ… All Depts | âœ… All Pods | âœ… All Employees | âœ… | âœ… | âœ… |
| **Automation** | âŒ | âŒ | âŒ | âŒ | âœ… Initial XLSX | âŒ | âŒ |

---

## ğŸŒ³ Complete Organizational Tree (Detailed)

```
                                    CEO001
                                    (CEO)
                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                 â”‚                 â”‚
                    â–¼                 â–¼                 â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ ADMIN001      â”‚ â”‚ AUTO001       â”‚ â”‚ Departments   â”‚
            â”‚ (Admin)       â”‚ â”‚ (Automation)  â”‚ â”‚               â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                                         â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                    â”‚                    â”‚
                    â–¼                                    â–¼                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          ...
        â”‚ Tech (HOD001)        â”‚          â”‚ Finance (HOD002)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚          â”‚          â”‚          â”‚          â”‚          â”‚
        â–¼          â–¼          â–¼          â–¼          â–¼          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”
    â”‚Platformâ”‚ â”‚ Infra â”‚ â”‚Backendâ”‚    â”‚Accountsâ”‚ â”‚Payrollâ”‚ â”‚  ...  â”‚
    â”‚ PL006  â”‚ â”‚ PL007 â”‚ â”‚ PL009 â”‚    â”‚PL004/5â”‚ â”‚ PL014 â”‚ â”‚       â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜
        â”‚          â”‚         â”‚            â”‚          â”‚         â”‚
        â”‚          â”‚         â”‚            â”‚          â”‚         â”‚
        â–¼          â–¼         â–¼            â–¼          â–¼         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”
    â”‚Employeesâ”‚ â”‚Employeesâ”‚ â”‚Employeesâ”‚    â”‚Employeesâ”‚  â”‚Employeesâ”‚ â”‚Employeesâ”‚
    â”‚  (3-5) â”‚  â”‚  (3-5) â”‚ â”‚  (3-5) â”‚    â”‚  (3-5) â”‚  â”‚  (3-5) â”‚ â”‚  (3-5) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Department Breakdown:

**1. Tech Department (HOD001)**
```
Tech
â”œâ”€â”€ Platform Pod (PL006)
â”‚   â””â”€â”€ Employees (3-5 members)
â”œâ”€â”€ Infra Pod (PL007)
â”‚   â””â”€â”€ Employees (3-5 members)
â”œâ”€â”€ Mobile Pod (PL008)
â”‚   â””â”€â”€ Employees (3-5 members)
â””â”€â”€ Backend Pod (PL009)
    â””â”€â”€ Employees (3-5 members)
```

**2. Finance Department (HOD002)**
```
Finance
â”œâ”€â”€ Accounts Pod (PL004, PL005 - 2 Pod Leads)
â”‚   â””â”€â”€ Employees (3-5 members)
â””â”€â”€ Payroll Pod (PL014)
    â””â”€â”€ Employees (3-5 members)
```

**3. Sales Department (HOD003)**
```
Sales
â”œâ”€â”€ Field Sales Pod (PL012)
â”‚   â””â”€â”€ Employees (3-5 members)
â””â”€â”€ Inside Sales Pod (PL013)
    â””â”€â”€ Employees (3-5 members)
```

**4. Marketing Department (HOD004)**
```
Marketing
â”œâ”€â”€ Growth Pod (PL010)
â”‚   â””â”€â”€ Employees (3-5 members)
â””â”€â”€ Content Pod (PL011)
    â””â”€â”€ Employees (3-5 members)
```

**5. Business Department (HOD005)**
```
Business
â”œâ”€â”€ Strategy Pod (PL003)
â”‚   â””â”€â”€ Employees (3-5 members)
â””â”€â”€ Partnerships Pod (PL001, PL002 - 2 Pod Leads)
    â””â”€â”€ Employees (3-5 members)
```

---

## ğŸ”„ Data Flow: Contribution Processing

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              CONTRIBUTION DATA PROCESSING FLOW                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. Initial Data Upload
   â”‚
   AUTO001 uploads XLSX
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Parse XLSX           â”‚
â”‚ Extract:             â”‚
â”‚ - Employees          â”‚
â”‚ - Departments        â”‚
â”‚ - Pods               â”‚
â”‚ - Products           â”‚
â”‚ - Features           â”‚
â”‚ - Contributions      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Store in Database    â”‚
â”‚ - Raw File Storage   â”‚
â”‚ - Contribution Recordsâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Generate Pod Lead    â”‚
â”‚ Allocation Sheets    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
2. Pod Lead Allocation
   â”‚
   Pod Leads review & submit
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Store Allocations    â”‚
â”‚ - Employee ID        â”‚
â”‚ - Product            â”‚
â”‚ - Percentages        â”‚
â”‚ - Verification       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
3. Final Processing
   â”‚
   CEO/Admin generates master list
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Merge Data:          â”‚
â”‚ - Initial Contributionsâ”‚
â”‚ - Pod Lead Allocationsâ”‚
â”‚ - Calculate Metrics  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Generate Final       â”‚
â”‚ Master List Excel    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Dashboard Access Flow by Role

### CEO Dashboard Access
```
CEO001
â”‚
â”œâ”€â–º GET /api/dashboards/org/?month=YYYY-MM
â”‚   â””â”€â–º Returns: All organization metrics
â”‚
â”œâ”€â–º GET /api/dashboards/department/{dept_id}/?month=YYYY-MM
â”‚   â””â”€â–º Returns: Any department's metrics
â”‚
â”œâ”€â–º GET /api/dashboards/pod/{pod_id}/?month=YYYY-MM
â”‚   â””â”€â–º Returns: Any pod's metrics
â”‚
â””â”€â–º GET /api/dashboards/employee/{emp_id}/?month=YYYY-MM
    â””â”€â–º Returns: Any employee's metrics
```

### HOD Dashboard Access
```
HOD001 (Tech HOD)
â”‚
â”œâ”€â–º GET /api/dashboards/department/{dept_id}/?month=YYYY-MM
â”‚   â””â”€â–º Returns: Only Tech department metrics (dept_id=1)
â”‚       â””â”€â–º Access Denied for other departments
â”‚
â”œâ”€â–º GET /api/dashboards/pod/{pod_id}/?month=YYYY-MM
â”‚   â””â”€â–º Returns: Only Tech pods (Platform, Infra, Mobile, Backend)
â”‚       â””â”€â–º Access Denied for non-Tech pods
â”‚
â””â”€â–º GET /api/dashboards/employee/{emp_id}/?month=YYYY-MM
    â””â”€â–º Returns: Only Tech department employees
        â””â”€â–º Access Denied for other departments
```

### Pod Lead Dashboard Access
```
PL001 (Partnerships Pod Lead)
â”‚
â”œâ”€â–º GET /api/dashboards/pod/{pod_id}/?month=YYYY-MM
â”‚   â””â”€â–º Returns: Only Partnerships pod metrics (pod_id=12)
â”‚       â””â”€â–º Access Denied for other pods
â”‚
â””â”€â–º GET /api/dashboards/employee/{emp_id}/?month=YYYY-MM
    â””â”€â–º Returns: Only Partnerships pod members
        â””â”€â–º Access Denied for non-pod members
```

### Employee Dashboard Access
```
EMP001
â”‚
â””â”€â–º GET /api/dashboards/employee/{emp_id}/?month=YYYY-MM
    â””â”€â–º Returns: Only own metrics (emp_id must match logged-in user)
        â””â”€â–º Access Denied for other employees
```

---

## ğŸ” Permission Check Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PERMISSION CHECK DECISION TREE                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Request Received
â”‚
â–¼
Extract Role from JWT Token
â”‚
â”œâ”€â–º CEO
â”‚   â””â”€â–º âœ… Allow All Access
â”‚
â”œâ”€â–º ADMIN
â”‚   â””â”€â–º âœ… Allow All Access
â”‚
â”œâ”€â–º HOD
â”‚   â”‚
â”‚   â””â”€â–º Check Department Match
â”‚       â”œâ”€â–º Matches Own Dept? â”€â”€YESâ”€â”€â–º âœ… Allow
â”‚       â””â”€â–º NO â”€â”€â–º âŒ Deny
â”‚
â”œâ”€â–º POD_LEAD
â”‚   â”‚
â”‚   â””â”€â–º Check Pod Match
â”‚       â”œâ”€â–º Matches Own Pod? â”€â”€YESâ”€â”€â–º âœ… Allow
â”‚       â””â”€â–º NO â”€â”€â–º âŒ Deny
â”‚
â”œâ”€â–º EMPLOYEE
â”‚   â”‚
â”‚   â””â”€â–º Check Employee ID Match
â”‚       â”œâ”€â–º Matches Own ID? â”€â”€YESâ”€â”€â–º âœ… Allow
â”‚       â””â”€â–º NO â”€â”€â–º âŒ Deny
â”‚
â””â”€â–º AUTOMATION
    â”‚
    â””â”€â–º Check Endpoint Type
        â”œâ”€â–º Upload/Sheet Generation? â”€â”€YESâ”€â”€â–º âœ… Allow
        â””â”€â–º NO â”€â”€â–º âŒ Deny
```

---

## ğŸ“ Summary

### Organizational Levels:
1. **CEO** - Top level, full access
2. **Departments** - 5 departments (Tech, Finance, Sales, Marketing, Business)
3. **HODs** - One per department, department-level access
4. **Pods** - Multiple pods per department (12+ pods total)
5. **Pod Leads** - One or more per pod, pod-level access
6. **Employees** - Individual contributors, self-access only

### Special Roles:
- **Admin** - Same access as CEO, administrative operations
- **Automation** - System automation, upload and sheet generation only

### Key Workflows:
1. **Authentication** - Employee code-based JWT token generation
2. **Dashboard Access** - Role-based filtered access
3. **Pod Lead Allocation** - Upload â†’ Generate Sheets â†’ Submit â†’ Process
4. **Final Master List** - CEO/Admin generates consolidated report

### Access Pattern:
- **Top-Down**: CEO can see everything below
- **Department Isolation**: HODs see only their department
- **Pod Isolation**: Pod Leads see only their pod
- **Self-Only**: Employees see only their own data

